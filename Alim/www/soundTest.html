<!DOCTYPE html>
<html>
  <head>
  <title></title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
    <meta charset="utf-8">
    <script type="text/javascript">
        
                                         
                                  
        var path;
        
        

	function loadPlayer() {
        
        path = getParameterByName('a');
		var audioPlayer = new Audio();
		audioPlayer.controls="controls";
	//	audioPlayer.addEventListener('ended',nextSong,false);
		// audioPlayer.addEventListener('error',errorFallback,true);
		document.getElementById("player").appendChild(audioPlayer);
        audioPlayer.src=path;
        audioPlayer.load();
        audioPlayer.play();
	
	}
	function nextSong() {
		if(urls[next]!=undefined) {
			var audioPlayer = document.getElementsByTagName('audio')[0];
			if(audioPlayer!=undefined) {
				audioPlayer.src=path;
				audioPlayer.load();
				audioPlayer.play();
				next++;
			} else {
				loadPlayer();
			}
		} else {
			alert('the end!');
		}
	}
	function errorFallback() {
			nextSong();
	}
	function playPause() {
		var audioPlayer = document.getElementsByTagName('audio')[0];
		if(audioPlayer!=undefined) {
			if (audioPlayer.paused) {
				audioPlayer.play();
			} else {
				audioPlayer.pause();
			}
		} else {
			loadPlayer();
		}
	}
	function pickSong(num) {
		next = num;
		nextSong();
	}

	var urls = new Array();
        urls[0] = 'http://www.everyayah.com/data/Abdul_Basit_Mujawwad_128kbps/001001.mp3';
        urls[1] = 'http://www.everyayah.com/data/Abdul_Basit_Mujawwad_128kbps/001002.mp3';
        urls[2] = 'http://www.everyayah.com/data/Abdul_Basit_Mujawwad_128kbps/001003.mp3';
        urls[3] = 'http://www.everyayah.com/data/Abdul_Basit_Mujawwad_128kbps/001004.mp3';
	var next = 0;

        
        
        function getParameterByName(name){
            name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
                                  var regexS = "[\\?&]" + name + "=([^&#]*)";
                                  var regex = new RegExp(regexS);
                                  var results = regex.exec(window.location.search);
                                  if(results == null)
                                  return "";
                                  else
                                  return decodeURIComponent(results[1].replace(/\+/g, " "));
                                  }

        
</script>
<body onload="loadPlayer">
<div id="player"></div>
<a href="#" onclick="playPause()">Play / Pause!</a> |
<a href="#" onclick="nextSong()">Next!</a><br><br>

<a href="#" onclick="pickSong(0)">Sample 1</a><br>
<a href="#" onclick="pickSong(1)">Sample 2</a><br>
<a href="#" onclick="pickSong(2)">Missing File</a><br>
<a href="#" onclick="pickSong(3)">Sample 3</a>
    </body>
</head>
</html>
